突然发现UOJ加了IOI2018啊..就来做了一下...

### D1T1 组合动作

挺套路的一道题..首先确定一下首位是多少，然后每次考虑如何花费1的代价来确定一位.注意到有长度小于4*N的一个限制.随便构造只要让不同字母ask结果不同就好了。如`ans+B+B+ans+B+X+ans+B+Y+ans+X`

### D1T2 排座位

不会做qwq

其实只需要注意到一个性质，对于一个合法的矩形，他有4个角.我们维护所有的2*2矩形，且对于所有小于k的点染成黑色.稍微yy后可知2*2的矩形`只有4个包含1个黑色`且`没有恰含3个黑色的`。对于这个东西可以用线段树来维护。具体来说对于每一个2*2的，他贡献是一段区间。写一个全局最值计数，区间修改，就好了..(卡常熟偷懒不build过不去TAT

### D1T3 狼人

留坑

### D2T1 机械娃娃

为什么T1这么难啊..

对于n是二的次幂，可以维护一个大小为叶子节点数量n的线段树，每一层father向两个孩子连边。此时直接对于这个线段树dfs，每一个点被访问到的时间恰好是`FFT的rev`。对于每一个叶子节点，连向对应操作序列上的点，然后m之中的每一个想线段树的father连边。于是我们就有了一个开关数=`2N`的优秀做法。瓶颈在于N恰好是在某一个次幂多一点的时候。解决这个问题的关键在于观察到序列绝对顺序是没有关系的。于是我们可以取线段树最后一层的后N个节点，考虑他们的相对顺序对应操作序列N。把左右节点都连向root的子树删掉。可以证明此时是`N+logN`的。（每一层荒废一个。

### D2T2 高速公路收费

论二分的灵活使用。

先ask一遍边权是A的图记为`dist`对于给定根的树。可以在bfs序上二分。设考虑二分到`mid`，只需要把和`[mid, r]`的点有连边全部变成B其余为A，看是否等于`dist`.这引导这我们把一张图分成两块然后套上述做法.我们需要找到在一条S->T最短路上的边,然后按照其他的点到这个边两个端点`u,v`的距离来判断在哪一个子图之上,然后对子图操作.如何找这条边呢.我们对边二分.然后看S->T的最短路有没有改变就好了.

### D2T3 会议

留坑
